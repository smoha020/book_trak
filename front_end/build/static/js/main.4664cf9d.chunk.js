(this.webpackJsonpfront_end=this.webpackJsonpfront_end||[]).push([[0],{34:function(e,t,a){e.exports=a(63)},39:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(31),l=a.n(r),c=(a(39),a(15)),s=a(6),i=a(7),u=a(2),m=a(8),h=a(9),d=a(4),b=a(13),p=(a(40),a(11)),g=a.n(p),f=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement("div",null,o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(d.b,{className:"navbar-brand",to:"/"},"BookTrak")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(d.b,{to:"/",className:"nav-link"},"Book List")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(d.b,{to:"/author",className:"nav-link"},"Add Author")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(d.b,{to:"/create",className:"nav-link"},"Add Book ")))))}}]),a}(n.Component),E=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.books,n=t.deleteBook;return o.a.createElement(o.a.Fragment,null,o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"Title"),o.a.createElement("th",{scope:"col"},"Autho"),o.a.createElement("th",{scope:"col"},"Genre"),o.a.createElement("th",{scope:"col"},"Date"),o.a.createElement("th",{scope:"col"},"Edit/Delete"))),o.a.createElement("tbody",null,a.map((function(t){return o.a.createElement(o.a.Fragment,{key:t._id},o.a.createElement("tr",null,o.a.createElement("td",null," ",t.title," "),o.a.createElement("td",null," ",t.author," "),o.a.createElement("td",null," ",t.genre," "),o.a.createElement("td",null," ",t.date," "),o.a.createElement("td",null,o.a.createElement(d.b,{to:"/edit/".concat(t._id),style:{color:"white",textAlign:"center"},className:"form-control bg-primary "},"Edit"),o.a.createElement("button",{style:{color:"white"},onClick:n.bind(e,t),className:"form-control bg-danger "},"Delete"))))})))))}}]),a}(n.Component),v=a(16),k=a(65),C=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))},n.onClick=function(){var e={title:this.state.title,author:this.state.author,genre:this.state.genre,date:this.state.date};this.props.addBook(e)},n.state={title:"",author:"",genre:"",date:"",authors:[]},n.onChange=n.onChange.bind(Object(u.a)(n)),n.onClick=n.onClick.bind(Object(u.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.authors)}},{key:"render",value:function(){return console.log(this.props.authors),o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Title "),o.a.createElement("input",{type:"text",className:"form-control",name:"title",value:this.state.title,onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Select Author (Add Author if none)"),o.a.createElement("select",{className:"form-control",id:"exampleFormControlSelect1",name:"author",value:this.state.author,onChange:this.onChange},o.a.createElement("option",{defaultValue:"selected"},"Select an option"),this.props.authors.map((function(e){return o.a.createElement("option",{key:Object(k.a)()}," ",e.author," ")})))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Genre"),o.a.createElement("input",{type:"text",className:"form-control",name:"genre",value:this.state.genre,onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null," Publication Date "),o.a.createElement("input",{type:"text",className:"form-control",name:"date",value:this.state.date,onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement(d.b,{to:"/",onClick:this.onClick},o.a.createElement("input",{type:"submit",className:"form-control bg-primary",style:{color:"white"},value:"submit"}))))}}]),a}(n.Component),j=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))},n.onClick=function(){var e={_id:this.props.match.params._id,title:this.state.title,author:this.state.author,genre:this.state.genre,date:this.state.date};this.props.updateBook(e)},n.state={title:"",author:"",genre:"",date:""},n.onChange=n.onChange.bind(Object(u.a)(n)),n.onClick=n.onClick.bind(Object(u.a)(n)),n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return console.log(this.props.match.params._id),o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Title "),o.a.createElement("input",{type:"text",className:"form-control",name:"title",value:this.state.title,onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Author "),o.a.createElement("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",placeholder:this.props.authors.map((function(t){return t._id==e.props.match.params._id?t.author:void 0})),name:"author",value:this.state.author,onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Genre"),o.a.createElement("input",{type:"text",className:"form-control",name:"genre",value:this.state.genre,onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Publication Date"),o.a.createElement("input",{type:"text",className:"form-control",name:"date",value:this.state.date,onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement(d.b,{to:"/",onClick:this.onClick},o.a.createElement("input",{type:"submit",className:"form-control bg-primary",style:{color:"white"},value:"submit"}))))}}]),a}(n.Component),O=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault(),console.log(n.state.author),n.props.addAuthor(n.state.author),n.setState({author:""})},n.state={author:""},n.onChange=n.onChange.bind(Object(u.a)(n)),n}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Author"),o.a.createElement("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",name:"author",value:this.state.author,onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",className:"form-control bg-primary",style:{color:"white"},id:"exampleFormControlInput1",value:"submit"})))}}]),a}(n.Component),N=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).addBook=function(e){var t=this;g.a.post("/book",e).then((function(e){return t.setState({books:[].concat(Object(c.a)(t.state.books),[e.data])})})).catch((function(e){return console.log(e)}))},n.updateBook=function(e){var t=this;console.log(e),g.a.put("/book/".concat(e._id),e).then((function(){return t.setState({books:Object(c.a)(t.state.books.map((function(t){return e._id===t._id&&(t.title=e.title,t.author=e.author,t.genre=e.genre,t.date=e.date,console.log(t)),t})))})})).catch((function(e){return console.log(e)}))},n.deleteBook=function(e){var t=this;console.log(e),g.a.delete("/book/".concat(e._id)).then((function(a){return t.setState({books:Object(c.a)(t.state.books.filter((function(t){return t._id!=e._id})))})})).catch((function(e){return console.log(e)}))},n.addAuthor=function(e){var t=this,a={_id:this.state.books.map((function(t){if(t.author==e)return console.log(t._id),t._id}))[0],author:e};g.a.post("/author",a).then((function(e){return t.setState({authors:[].concat(Object(c.a)(t.state.authors),[a])})})).catch((function(e){return console.log(e)}))},n.state={books:[],authors:[]},n.addBook=n.addBook.bind(Object(u.a)(n)),n.updateBook=n.updateBook.bind(Object(u.a)(n)),n.deleteBook=n.deleteBook.bind(Object(u.a)(n)),n.addAuthor=n.addAuthor.bind(Object(u.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/book").then((function(t){return e.setState({books:Object(c.a)(t.data)})})).catch((function(e){return console.log(e)})),g.a.get("/author").then((function(t){return e.setState({authors:Object(c.a)(t.data)})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return console.log(this.state.authors),o.a.createElement(d.a,null,o.a.createElement("div",{className:"container"},o.a.createElement(f,null),o.a.createElement(b.a,{exact:!0,path:"/",render:function(t){return o.a.createElement(E,{addBook:e.addBook,deleteBook:e.deleteBook,books:e.state.books})}}),o.a.createElement(b.a,{path:"/create",render:function(t){return o.a.createElement(C,{addBook:e.addBook,authors:e.state.authors})}}),o.a.createElement(b.a,{path:"/edit/:_id",render:function(t){return o.a.createElement(j,Object.assign({},t,{books:e.state.books,authors:e.state.authors,updateBook:e.updateBook}))}}),o.a.createElement(b.a,{path:"/author",render:function(t){return o.a.createElement(O,{addAuthor:e.addAuthor})}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.4664cf9d.chunk.js.map